<!--
  Generated template for the HomePage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar primary>
    <ion-title style="font-size: 14px;font-weight: bold;">{{shop_name_en}} {{shop_name_kh}}</ion-title>
    <ion-buttons end>
      <button>
        <ion-icon name="ios-more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="home common-bg">
  <div  class="box-load"  [ngClass]="(box_load == 'none') ? 'animated fadeOut': '' " [style.display]="box_load_none"></div>
        
        <ion-row>
            <ion-col width-100 style="padding:0px;">
              <img src="http://dernham.com/admin/uploadimages/cover/medium/{{shop_cover}}" style="height:auto;width:100%"> 
            </ion-col>
        </ion-row>
        
        <ion-row style="margin-top:-3px;">
            <ion-col width-100 style="background:white;padding-left: 15px;padding-top: 10px;font-size: 13px;padding-bottom: 10px;">
                <a style="color:black;">{{shop_name_en}} {{shop_name_kh}}</a>
            </ion-col>
        </ion-row>
        

        <ion-row style="font-size:12px;margin-top:1px">
            <ion-col width-75 style="background:white;padding-left:15px;">
              <a class="me-subheader" style="font-size:12px;color:#535658;">{{lb_working_hour}}</a><br><a class="me-subheader" style="font-size: 12px;color: #535658;">{{open_time}} - {{close_time}}</a>
            </ion-col>
            <ion-col width-25 style="background:white;text-align:right;padding-right:20px">
              <button (click)="callTo('tel: +85598271863')" ion-button  small icon-left style="color:#3a9203;background-color:#cccaca">
                <ion-icon name="ios-call" style="color;#3a9203"></ion-icon>
                <p>Call</p>
              </button>
            </ion-col>  
        </ion-row>

        <!-- infomation with static map -->
        <div class="google-map-static" style="position:relative;">
          
          <div class="gredient-box" style="position:absolute;top:0;;width:100%;height:100%;">
            <div class="gredient-left" style="background:white; width:50%;height:100%;float:left;" ></div>
            <div class="greident-right" style="width:35%;height:100%;float:left;background:linear-gradient(to right, white , transparent);"></div>
            <div style="width: 15%;height:100%;"></div>
            <div style="clear:both;"></div>
          </div>
          <!-- static image map -->
          <div class="shop_info" style="">
            <ion-row width-100 style="font-size:12px;margin-top:1px;min-height: 57px;">
                <ion-col width-10 style="padding-left:15px;z-index: 1;">
                  <div style="color:#807d7d;margin-top:5px;margin-bottom:5px;">
                    <ion-icon name="ios-navigate" style="font-size:20px;"></ion-icon>
                  </div>
                </ion-col> 

                <ion-col width-75>
                  <div style="margin-top:10px;margin-bottom:5px;line-height:17px;">
                     <a class="me-subheader" style="font-size:12px;position:relative;top: -4px;left: 7px;">{{shop_distance}}</a> 
                  </div>
                </ion-col>
            </ion-row>

            <ion-row width-100 style="font-size:12px;margin-top:-20px;">
                <ion-col width-10 style="padding-left:15px;z-index: 1;">
                  <div style="color:#807d7d;margin-top:5px;margin-bottom:5px;">
                    <ion-icon name="md-albums" style="font-size:20px;"></ion-icon>
                  </div>
                </ion-col> 
                <ion-col width-75>
                  <div style="margin-top:10px;margin-bottom:5px;line-height:17px;">
                    <a *ngFor="let item of serve_category; let i = index" class="me-subheader" style="font-size:12px;position:relative;top: -4px;left: 7px;">
                      <span *ngIf="i != 0"> - </span>{{item.serve_category_name}}
                    </a> 
                  </div>
                </ion-col>
            </ion-row>

            <ion-row width-100 style="font-size:12px;margin-top:-8px;">
                <ion-col width-10 style="padding-left:15px;z-index: 1;">
                  <div style="color:#807d7d;margin-top:5px;">
                    <ion-icon name="logo-usd" style="font-size:20px;"></ion-icon>
                  </div>
                </ion-col> 
                <ion-col width-75>
                  <div style="margin-top:12px;line-height:17px;">
                     <a class="me-subheader" style="font-size:12px;position:relative;top: -4px;left: 7px;">$ {{product_average_price}}</a> 
                  </div>
                </ion-col>
            </ion-row>
          </div>        
          <!-- End static image map -->
        </div>
        <!--End infomation with static map -->

        <ion-row width-100 style="background:white;font-size:12px;margin-top:-8px;" *ngIf="shop_phone">
            <ion-col width-10 style="padding-left:15px;">
              <div style="color:#807d7d;margin-top:5px;">
                <ion-icon name="ios-call" style="font-size:20px;"></ion-icon>
              </div>
            </ion-col> 
            <ion-col width-75>
              <div style="margin-top:12px;line-height:17px;">
                 <a class="me-subheader" style="font-size:12px;position:relative;top: -4px;left: 7px;">{{shop_phone}}</a> 
              </div>
            </ion-col>
        </ion-row>

        <!-- Shop facility -->
        <ion-row width-100 style="background:white;margin-bottom: 1px">
            <ion-col width-10 style="padding-left: 15px;">
                <div style="color:#807d7d;">
                  <ion-icon name="md-checkbox" style="font-size:20px;"></ion-icon>
                </div>
            </ion-col>

            <ion-col width-10 offset-80 *ngIf="shop_facility && shop_facility.length > 4">
                <div style="color:#807d7d;">
                  <ion-icon name="ios-arrow-forward" style="font-size:20px;"></ion-icon>
                </div>
            </ion-col>
        </ion-row>

        <!-- Detail Shop -->
        <ion-row tappable (click)="viewShopDetail(2)" style="margin-bottom: 5px;">
            <ion-col style="background:white;text-align:center">
                 <a class="me-subheader" style="font-size:12px">{{view_info}}</a>
            </ion-col> 
        </ion-row>

         <!-- title shop image -->
        <ion-row tappable (click)="moreShopImage()" *ngIf="shop_image && shop_image.length > 0">
            <ion-col style="background:white;text-align:center">
                 <a class="me-subheader" style="font-size:12px">{{lb_photo}}</a>
            </ion-col> 
        </ion-row>
        <!-- more shop image -->
        <ion-row style="margin-bottom: 5px;" *ngIf="shop_image && shop_image.length > 0">
          <div tappable (click)="moreShopImage()" *ngFor="let item of shop_image; let i = index">
              <div *ngIf="i < 4" style="padding:1px;background: white;">              
                  <img src="{{shop_image_path}}{{item.sh_img_name}}">
              </div>
          </div>
        </ion-row>
        
        <!-- button more products -->
        <ion-row tappable (click)="moreShopProduct()" *ngIf="shop_popular_product && shop_popular_product.length > 0">
              <ion-col width-100 style="background: white;text-align: center;">
                 <a class="me-subheader" style="font-size:12px">{{popular_food}}</a>  
              </ion-col>
        </ion-row>

        <!-- product photo -->
        <ion-row style="margin-bottom: 5px;" *ngIf="shop_popular_product && shop_popular_product.length > 0">
          <div tappable (click)="moreShopProduct()" *ngFor="let item of shop_popular_product; let i = index">
              <div *ngIf="i < 2" style="padding:1px;background: white;">              
                  <img src="{{product_path}}{{item.pro_image}}">
              </div>
          </div>
        </ion-row>

        <!-- title related shoped-->
        <ion-row *ngIf="related_shops && related_shops.length > 0">
              <ion-col width-100 style="background: white;text-align: center;">
                 <a class="me-subheader" style="font-size:12px">{{lb_related_shops}}</a>  
              </ion-col>
        </ion-row>

        <!-- related shoped -->
        <ion-row *ngIf="related_shops && related_shops.length > 0">
          <div *ngFor="let item of related_shops; let i = index">
              <div tappable (click)="relatedShops(item.shop_id)" style="padding:1px;background: white;">              
                  <img src="{{product_path}}{{item.shop_img}}">
              </div>
          </div>
        </ion-row>



</ion-content>
